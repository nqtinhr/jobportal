<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head>
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      th:href="@{/css/style.css}"
    />
    <link
      th:rel="stylesheet"
      th:href="@{/webjars/bootstrap/css/bootstrap.min.css} "
    />
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      th:href="@{/css/font-awesome.min.css}"
    />
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      th:href="@{/css/styles.css}"
    />
    <meta charset="ISO-8859-1" />
    <title>Login</title>
  </head>

  <body>
    <div class="row" style="margin-right: 0">
      <div class="col-md-6">
        <div class="coffee_mug_background">
          <div class="mt-2 pt-4">
            <a href="/" class="logo_left">
              <label class="logo"> SysHeroJobs </label>
              <label class="logo_com"> .com </label>
            </a>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="top-margin">
          <div class="myForm" style="align-items: center">
            <form
              th:action="@{/login}"
              th:object="${user}"
              method="post"
              onsubmit="return validateLoginForm()"
            >
              <h1 class="text-center bold font-weight-bold mb-4">Login</h1>
              <div class="form-group">
                <input
                  placeholder="Email"
                  name="username"
                  type="email"
                  class="form-control"
                  id="email"
                />
                <div id="emailError" class="error"></div>
              </div>
              <div class="form-group">
                <input
                  placeholder="Password"
                  name="password"
                  type="password"
                  class="form-control"
                  id="password"
                />
                <div id="passwordError" class="error"></div>
              </div>
              <div class="form-group mt-3">
                <button type="submit" class="myBtn">Log in</button>
              </div>
              <p class="text-center mt-2">
                Are you a new account?
                <a class="color-text" href="#" th:href="@{/register}"
                  >Register Now</a
                >
              </p>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script>
      function validateLoginForm() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        var valid = true;

        // Reset previous error messages
        document.getElementById("emailError").innerHTML = "";
        document.getElementById("passwordError").innerHTML = "";

        // Email validation
        if (!email) {
          document.getElementById("emailError").innerHTML = "Email is required";
          valid = false;
        } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          document.getElementById("emailError").innerHTML =
            "Invalid email format";
          valid = false;
        }

        // Password validation
        if (!password) {
          document.getElementById("passwordError").innerHTML =
            "Password is required";
          valid = false;
        }

        return valid;
      }
    </script>

    <style>
      .error {
        color: red;
        font-size: 12px;
      }
    </style>
  </body>
  <script
    type="text/javascript"
    th:src="@{/webjars/jquery/jquery.min.js}"
  ></script>
  <script
    type="text/javascript"
    th:src="@{/webjars/popper.js/umd/popper.min.js}"
  ></script>
  <script
    type="text/javascript"
    th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"
  ></script>
  <script type="text/javascript" th:src="@{/js/main.js}"></script>
</html>
